---
description: 要件を再確認し、リスクを評価し、段階的な実装計画を作成する。コードに触れる前にユーザーの確認を待つ。
---

# 計画コマンド

このコマンドは**planner**エージェントを呼び出して、コードを書く前に包括的な実装計画を作成します。

## このコマンドが行うこと

1. **要件の再確認** - 構築する必要があるものを明確化
2. **リスクの特定** - 潜在的な問題とブロッカーを表面化
3. **段階的計画の作成** - 実装をフェーズに分解
4. **確認を待つ** - 続行する前にユーザーの承認を必須で受ける

## 使用タイミング

`/plan`を使用する場合：

- 新機能を開始する時
- 重要なアーキテクチャ変更を行う時
- 複雑なリファクタリングに取り組む時
- 複数のファイル/コンポーネントに影響する時
- 要件が不明確または曖昧な時

## 動作方法

plannerエージェントは以下を実行します：

1. **リクエストを分析**し、明確な用語で要件を再確認
2. **フェーズに分解**し、具体的で実行可能なステップを提供
3. **コンポーネント間の依存関係**を特定
4. **リスクと潜在的なブロッカー**を評価
5. **複雑さを推定**（高/中/低）
6. **計画を提示**し、明示的な確認を待つ

## 重要な注意事項

**重要**: plannerエージェントは、明確に「yes」または「proceed」などの肯定的な応答で確認するまで、**コードを書きません**。

変更が必要な場合は、以下で応答：

- "modify: [変更内容]"
- "different approach: [代替案]"
- "phase 2をスキップしてphase 3を最初に実行"

## 他のコマンドとの統合

計画後：

- `/tdd`を使用してテスト駆動開発で実装
- ビルドエラーが発生した場合は`/build-fix`を使用
- `/code-review`を使用して完成した実装をレビュー

## 関連エージェント

このコマンドは`planner`エージェントを呼び出します：
`.cursor/agents/planner.md`
