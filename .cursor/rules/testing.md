# テスト要件

## 最小テストカバレッジ: 80%

テストタイプ（すべて必須）：

1. **単体テスト** - 個々の関数、ユーティリティ、コンポーネント
2. **統合テスト** - APIエンドポイント、データベース操作
3. **E2Eテスト** - 重要なユーザーフロー（Playwright）

## テスト駆動開発

必須ワークフロー：

1. 最初にテストを書く（RED）
2. テストを実行 - 失敗するはず
3. 最小限の実装を書く（GREEN）
4. テストを実行 - 通過するはず
5. リファクタリング（IMPROVE）
6. カバレッジを確認（80%+）

## テスト失敗のトラブルシューティング

1. **tdd-guide**エージェントを使用
2. テストの分離を確認
3. モックが正しいことを確認
4. テストではなく実装を修正（テストが間違っている場合を除く）

## エージェントサポート

- **tdd-guide** - 新機能に積極的に使用、テストファーストを強制
- **e2e-runner** - Playwright E2Eテスト専門家
